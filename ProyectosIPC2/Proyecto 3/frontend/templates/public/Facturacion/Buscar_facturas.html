{% extends "index.html"%}
{% block title %} Consultar Datos {%endblock%}
{%block content%}

<style>
.Block{
    background-color: transparent;
    position: absolute;
    margin-left: 20px;
    margin-top: 380px;
    height: 300px;
    width: 320px;
    
    
    
}
.Block2{
    background-color: transparent;
    position: absolute;
    margin-left: 320px;
    margin-top: -80px;
    height: 400px;
    width: 800px;
    
}
.box__register_login{
    position: absolute;
    display: block;
    width: 300px;
    background-color: #333;
    padding: 50px;
    border-radius: 10px;
    margin: -120px 0;
    top: 100px;
    border: 4px solid white;
}
.Entry{
    padding: 8px;
    color: white;
    width: 100%;
    border: 4px #1f53c5 solid;
    border-radius: 5px;
    background-color: #24303c;
    font-size: 16px;
    margin-bottom: 5px;
    margin-top: 10px;
    font-size: 14px;
}
.Register_sumit{
    width: 100%;
    padding: 10px;
    background-color: #24303c;
    border: 4px solid #1f53c5;
    border-radius: 5px;
    color: white;
    margin-top: 10px;
    margin-bottom: 10px;
    cursor: pointer;
}
.Register_sumit:active{
    position: relative;
    top: 1px;
}
.box__register h4{
    margin-left: 12px;
    color: white;
}
.Table{
  font-family: calibri;
  border-collapse: collapse;
  width: 100%;
  border: solid 2px black;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
  background-color: #dddddd;

}
.Principal{
    font-family: calibri, sans-serif;
    background-color: black;
    color: white;
}
.Principal > th{
    font-family: calibri, sans-serif;
    background-color: black;
    color: white;
}
.Usuarios> th{
    font-family: calibri, sans-serif;
    background-color:rgb(51,51,51);
    color: white;
}
.recursos > th{
    font-family: calibri, sans-serif;
    background-color: rgb(219,249,250);
    color: black;
}
.recursos_th > th{
    font-family: calibri, sans-serif;
    background-color: rgb(219,249,250);
    color: black;
}
</style>

<div class = "Block">
    <div class="box__register_login">
        <form class="box__register" action = "/Facturar/" method="POST">
            <h4 id = "Usuario">Buscar Facturas</h4>
            <input class = "Entry" type="text" name="NIT_Cliente" placeholder="NIT Cliente">
            <button type="submit" class = "Register_sumit" >Buscar</button>
        </form>
    </div>
<div class = "Block2">
    <table class="Table">
        <tr class="Principal">
            <th>No.Fac</th>
            <th>NIT</th>
            <th>Fecha</th>
            <th>ID_Instacia</th>
            <th>Monto_a_Pagar</th>
            <th>Tiempo_del_Cobro(Horas)</th>
        </tr>
        
        {%for iter_facturas in facturas%}
        <tr class="Usuarios">
            <th>{{iter_facturas.No_Fac}}</th>
            <th>{{iter_facturas.NIT}}</th>
            <th>{{iter_facturas.Fecha}}</th>
            <th>{{iter_facturas.ID_Instacia}}</th>
            <th>{{iter_facturas.Monto_a_Pagar}}</th>
            <th>{{iter_facturas.Tiempo_del_Cobro}}</th>
            <tr class="recursos">
                <th>Recurso_nombre</th>
                <th>ValorXHora</th>
            </tr>
            {%for iter_recursos in iter_facturas.Recursos%}
            <tr class="recursos_th">
                <th>{{iter_recursos.Recurso_nombre}}</th>
                <th>{{iter_recursos.ValorXHora}}</th>
            </tr>
            {%endfor%} 
        </tr>
        {%endfor%}
    </table>
    </div>
    {%if MSG == "No existe este cliente en nuestra base de datos"%}
    <script>
        alert("No existe este cliente en nuestra base de datos")
    </script>
    {%endif%}
{%endblock%}